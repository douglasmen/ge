<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:plcf="http://www.powerlogic.com.br/plcf"
	xmlns:plct="http://www.powerlogic.com.br/plct"
	xmlns:tr="http://myfaces.apache.org/trinidad"
	xmlns:trh="http://myfaces.apache.org/trinidad/html">
	<ui:composition>
	
	<script type="text/javascript">
	//<![CDATA[
		setTecnologia('Facelets');

		if (ExpYes){
			jQuery(function () {
				jQuery(".plc-fieldset").each (function () {
					jQuery(this).after('<span style="height:10px">&nbsp;</span>');
				});
			});
		}
		
	//]]>
	</script>
		
	<h:form id="formulario" onkeydown="return executarAcaoFuncoes(event)"
	   enctype="#{(requestScope.IND_ARQ_ANEXADO=='S' || param['corpo:formulario:IND_ARQ_ANEXADO']=='S' || ( not empty plcEntidade.arquivoAnexado and not empty plcEntidade.arquivoAnexado.id)) ? 'multipart/form-data' : ''}" >
		<tr:panelGroupLayout id="ajaxPanel">
			
			<plcf:validacao>
				
				<tr:panelGroupLayout id="ajaxMensagem" partialTriggers="botaoAcaoGravar botaoAcaoPesquisar">
					<ui:insert name="plc-corpo-mensagem">
						<ui:include src="/WEB-INF/fcls/geralMensagemPlc.xhtml" />
					</ui:insert>
				</tr:panelGroupLayout>
				
				<tr:panelGroupLayout id="ajaxAcoes" partialTriggers="botaoAcaoGravar botaoAcaoPesquisar">
					<ui:insert name="plc-corpo-acao">
						<ui:include src="/fcls/template/PlcFormAcaoSSubTemplate.xhtml" />
					</ui:insert>
				</tr:panelGroupLayout>
				
				<!-- INI -->
				<tr:panelGroupLayout id="ajaxFormulario" partialTriggers="botaoAcaoGravar botaoAcaoPesquisar">
				
					<c:if test="#{sessionScope['SESSION_CACHE'].explorerAtivo and requestScope.explorerUsaPlc == 'S'}">
						<div class="plc-form-com-treeview">
							<div class="plc-treeview" id="div-treeview">
								<script type="text/javascript">
								//<![CDATA[
								jQuery(function(){
									jQuery.plc.criaTreeView({titulo:'#{plct:entidadeTitulo('Tree View', plcEntidade.class)}', logica:'#{plcActionSemBarra}', urlEdicao:plcGeral.contextPath+'/f/n/#{plcActionSemBarra}'})
								})
								//]]>
								</script>
							</div>
							<ui:insert name="plc-corpo-formulario">
								Nenhum conteudo definido para "corpoFormularioPlc"
							</ui:insert>
						</div>
					</c:if>
					
					<c:if test="#{not sessionScope['SESSION_CACHE'].explorerAtivo or requestScope.explorerUsaPlc != 'S'}">
						<ui:insert name="plc-corpo-formulario">
							Nenhum conteudo definido para "corpoFormularioPlc"
						</ui:insert>
					</c:if>
					
					<c:if test="#{plcControleConversacao.modoPlc == 'alteracaoPlc'}">
						<script type="text/javascript">
							//<![CDATA[
								configuraEventos();
							//]]>
						</script>
					</c:if>
					<c:if test="#{plcControleConversacao.alertaAlteracaoPlc != 'S'}">
						<script type="text/javascript">
							//<![CDATA[
							setAlertaAlteracao("","");
							//]]>
						</script>
					</c:if> 
					<ui:insert name="plc-corpo-formulario-apos">
						<ui:include src="/WEB-INF/fcls/geralFormularioAposPlc.xhtml" />
					</ui:insert>
				</tr:panelGroupLayout>
				<!-- FIM -->
								
			</plcf:validacao>
			
		</tr:panelGroupLayout>
		</h:form>
		
		<tr:panelGroupLayout  id="ajaxlogQA" partialTriggers="botaoAcaoGravar botaoAcaoPesquisar">
			<c:if test="#{not empty sessionScope['modoTestePlc']}">
				<plct:logFimDocumento/>
			</c:if>
		</tr:panelGroupLayout>
		
		<div class="clear"> </div>
	</ui:composition>
</html>